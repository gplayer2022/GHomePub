(function(){let acceleration=0;let velocity=0;let angle=0;let milliSecond=0;const e=document.getElementById("acceleration");const b=document.getElementById("velocity");const j=document.getElementById("angle");const h=document.getElementById("start-button");const p=document.getElementById("ball");const t={x:0,y:0};const i=250;const n=document.getElementById("theoretical-chart-xt").getContext("2d");const q=document.getElementById("theoretical-chart-vt").getContext("2d");let xtChart=null;let vtChart=null;let timeLabels=[];let horizontalXs=[];let verticalYs=[];let diagonalDistances=[];let horizontalVelocities=[];let verticalVelocities=[];let diagonalVelocities=[];h.addEventListener("click",function(){f();k();const z=setInterval(function(){if(g()){w();l();clearInterval(z)}timeLabels.push(milliSecond/1000);v();m();milliSecond+=i},i)},false);function f(){if(xtChart!==null){xtChart.destroy()}if(vtChart!==null){vtChart.destroy()}timeLabels=[];horizontalXs=[];verticalYs=[];diagonalDistances=[];horizontalVelocities=[];verticalVelocities=[];diagonalVelocities=[];milliSecond=0;t.x=0;t.y=0}function k(){acceleration=parseFloat(e.value);velocity=parseFloat(b.value);angle=parseFloat(j.value)}function g(){const z=getComputedStyle(p);let g=false;if(t.x===z.left&&t.y===z.top){g=true}else{t.x=z.left;t.y=z.top}return g}function d(){return angle===90?0:acceleration*Math.cos(angle/180*Math.PI)}function c(){return acceleration*Math.sin(angle/180*Math.PI)}function u(){return acceleration}function s(){const z=angle===90?0:velocity*Math.cos(angle/180*Math.PI);return z+d()*(milliSecond/1000)}function r(){const z=velocity*Math.sin(angle/180*Math.PI);return z+c()*(milliSecond/1000)}function o(){return velocity+u()*(milliSecond/1000)}function a(){const z=angle===90?0:velocity*Math.cos(angle/180*Math.PI);return z*(milliSecond/1000)+(1/2)*d()*Math.pow((milliSecond/1000),2)}function y(){const z=velocity*Math.sin(angle/180*Math.PI);return z*(milliSecond/1000)+(1/2)*c()*Math.pow((milliSecond/1000),2)}function x(){const z=velocity;return z*(milliSecond/1000)+(1/2)*u()*Math.pow((milliSecond/1000),2)}function v(){horizontalXs.push(a());verticalYs.push(y());diagonalDistances.push(x())}function m(){horizontalVelocities.push(s());verticalVelocities.push(r());diagonalVelocities.push(o())}function w(){xtChart=new Chart(n,{type:"line",data:{labels:timeLabels,datasets:[{label:"横方向",data:horizontalXs,borderColor:"#ff8888"},{label:"縦方向",data:verticalYs,borderColor:"#448844"},{label:"合成",data:diagonalDistances,borderColor:"#4488ff"}]},options:{title:{display:true,text:"x-t グラフ"}}})}function l(){vtChart=new Chart(q,{type:"line",data:{labels:timeLabels,datasets:[{label:"横方向",data:horizontalVelocities,borderColor:"#ff8888"},{label:"縦方向",data:verticalVelocities,borderColor:"#448844"},{label:"合成",data:diagonalVelocities,borderColor:"#4488ff"}]},options:{title:{display:true,text:"v-t グラフ"}}})}})();