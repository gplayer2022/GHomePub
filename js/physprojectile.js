(function(){let x=0;let y=0;const i=9.8;let velocity=0;let angle=0;let milliSecond=0;const b=document.getElementById("velocity");const j=document.getElementById("angle");const e=document.getElementById("start-button");const a=document.getElementById("lab-board");const m=document.getElementById("ball");const g=parseInt(getComputedStyle(a).width);const f=parseInt(getComputedStyle(a).height);let ballWidth;let ballHeight;const h=50;const c=16;const r=32;const t=getComputedStyle(m);const v=setInterval(function(){if(m.complete){ballWidth=parseInt(m.naturalWidth);ballHeight=parseInt(m.naturalHeight);clearInterval(v)}},500,false);e.addEventListener("click",function(){if(l()){e.disabled=true;q();const w=setInterval(function(){s();k();u();milliSecond+=h;if(d()){n();u();e.disabled=false;clearInterval(w)}},h)}},false);function l(){const z=document.getElementById("alert");const A=parseFloat(b.value);const w=parseFloat(j.value);let isValid=false;if(0<A&&A<=r){if(0<w&&w<=90){isValid=true;z.textContent="";velocity=A;angle=w}else{z.textContent="角度の設定が不適切です。"}}else{z.textContent="速さの設定が不適切です。"}return isValid}function s(){x=parseInt(t.left);y=parseInt(t.bottom)}function q(){x=0;y=0;milliSecond=0}function p(){return angle===90?0:velocity*Math.cos(angle/180*Math.PI)}function o(){return velocity*Math.sin(angle/180*Math.PI)}function k(){x=parseInt((p()*(milliSecond/1000))*c);y=parseInt((o()*(milliSecond/1000)-(1/2)*i*Math.pow((milliSecond/1000),2))*c)}function n(){if(g<=x+ballWidth){x=g-ballWidth}if(f<=y+ballHeight){y=f-ballHeight}if(x<0){x=0}if(y<0){y=0}}function u(){m.style.left=x+"px";m.style.bottom=y+"px"}function d(){return g<=x+ballWidth||f<=y+ballHeight||x<0||y<0}})();