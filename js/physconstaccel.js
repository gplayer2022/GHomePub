(function(){let x=0;let y=0;let acceleration=0;let velocity=0;let angle=0;let milliSecond=0;const f=document.getElementById("acceleration");const b=document.getElementById("velocity");const l=document.getElementById("angle");const h=document.getElementById("start-button");const a=document.getElementById("lab-board");const o=document.getElementById("ball");const j=parseInt(getComputedStyle(a).width);const i=parseInt(getComputedStyle(a).height);let ballWidth;let ballHeight;const k=50;const e=16;const t=128;const v={min:-64,max:64};const z=setInterval(function(){if(o.complete){ballWidth=parseInt(o.naturalWidth);ballHeight=parseInt(o.naturalHeight);clearInterval(z)}},500,false);h.addEventListener("click",function(){if(n()){h.disabled=true;s();const A=setInterval(function(){u();m();w();milliSecond+=k;if(g()){p();w();h.disabled=false;clearInterval(A)}},k)}},false);function n(){const B=document.getElementById("alert");const D=parseFloat(b.value);const C=parseFloat(f.value);const A=parseFloat(l.value);let isValid=false;if(C!==0&&v.min<=C&&C<=v.max){if(0<=D&&D<=t){if(0<=A&&A<=90){isValid=true;B.textContent="";acceleration=C;velocity=D;angle=A}else{B.textContent="角度の設定が不適切です。"}}else{B.textContent="初速度の設定が不適切です。"}}else{B.textContent="加速度の設定が不適切です。"}return isValid}function u(){const A=getComputedStyle(o);x=parseInt(A.left);y=parseInt(A.top)}function r(){return angle===90?0:velocity*Math.cos(angle/180*Math.PI)}function q(){return velocity*Math.sin(angle/180*Math.PI)}function d(){return angle===90?0:acceleration*Math.cos(angle/180*Math.PI)}function c(){return acceleration*Math.sin(angle/180*Math.PI)}function s(){x=0;y=0;milliSecond=0}function m(){x=parseInt((r()*(milliSecond/1000)+(1/2)*d()*Math.pow((milliSecond/1000),2))*e);y=parseInt((q()*(milliSecond/1000)+(1/2)*c()*Math.pow((milliSecond/1000),2))*e)}function p(){if(j<=x+ballWidth){x=j-ballWidth}if(i<=y+ballHeight){y=i-ballHeight}if(x<0){x=0}if(y<0){y=0}}function w(){o.style.left=x+"px";o.style.top=y+"px"}function g(){return j<=x+ballWidth||i<=y+ballHeight||x<0||y<0}})();