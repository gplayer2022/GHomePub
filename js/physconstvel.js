(function(){let x=0;let y=0;let velocity=0;let angle=0;let milliSecond=0;const b=document.getElementById("velocity");const i=document.getElementById("angle");const e=document.getElementById("start-button");const a=document.getElementById("lab-board");const l=document.getElementById("ball");const g=parseInt(getComputedStyle(a).width);const f=parseInt(getComputedStyle(a).height);let ballWidth;let ballHeight;const h=50;const c=16;const q=128;const t=setInterval(function(){if(l.complete){ballWidth=parseInt(l.naturalWidth);ballHeight=parseInt(l.naturalHeight);clearInterval(t)}},500,false);e.addEventListener("click",function(){if(j()){e.disabled=true;p();const u=setInterval(function(){r();k();s();milliSecond+=h;if(d()){m();s();e.disabled=false;clearInterval(u)}},h)}},false);function j(){const v=document.getElementById("alert");const w=parseFloat(b.value);const u=parseFloat(i.value);let isValid=false;if(0<w&&w<=q){if(0<=u&&u<=90){isValid=true;v.textContent="";velocity=w;angle=u}else{v.textContent="角度の設定が不適切です。"}}else{v.textContent="速さの設定が不適切です。"}return isValid}function r(){const u=getComputedStyle(l);x=parseInt(u.left);y=parseInt(u.top)}function o(){return angle===90?0:velocity*Math.cos(angle/180*Math.PI)}function n(){return velocity*Math.sin(angle/180*Math.PI)}function p(){x=0;y=0;milliSecond=0}function k(){x=parseInt(o()*c*(milliSecond/1000));y=parseInt(n()*c*(milliSecond/1000))}function m(){if(g<=x+ballWidth){x=g-ballWidth}if(f<=y+ballHeight){y=f-ballHeight}}function s(){l.style.left=x+"px";l.style.top=y+"px"}function d(){return g<=x+ballWidth||f<=y+ballHeight}})();