new Vue({el:"#app",data:{level:0,eachPoint:5,questionsLength:10,score:{point:0,time:0},questions:[],is4SmartPhone:false,isRunning:false,startTime:0},methods:{startGame:function(){this.createQuestions();this.isRunning=!this.isRunning;this.startTime=Date.now();this.initializeScore()},initializeScore:function(){this.score.point=0;this.score.time=0;if(this.level===0||this.level===1){this.eachPoint=5}else{this.eachPoint=10}},createQuestions:function(){this.questions=[];for(let i=0;i<this.questionsLength;i++){let question={};if(this.level===0||this.level===1){if(this.level===0){question.dividend=Math.floor(Math.random()*10);question.divisor=Math.floor(Math.random()*9)+1}else{question.dividend=Math.floor(Math.random()*100);question.divisor=Math.floor(Math.random()*49)+1}question.quotient=Math.floor(question.dividend/question.divisor);question.remainder=question.dividend%question.divisor;question.yourQuotient=null;question.yourRemainder=null}else{if(this.level===2||this.level===3){let quotient;if(this.level===2){question.divisor=Math.floor(Math.random()*9)+1;quotient=Math.floor(Math.random()*150)}else{question.divisor=Math.floor(Math.random()*49)+1;quotient=Math.floor(Math.random()*150)}let dividend=quotient*question.divisor;let pointPosition=Math.floor(Math.random()*2)+1;question.quotient=this.slideDecimalPoint(quotient,pointPosition);question.dividend=this.slideDecimalPoint(dividend,pointPosition);question.remainder=null;question.yourQuotient=null;question.yourRemainder=null}else{if(this.level===4||this.level===5){let quotient;let divisor;if(this.level===4){divisor=Math.floor(Math.random()*9)+1;quotient=Math.floor(Math.random()*150)}else{divisor=Math.floor(Math.random()*49)+1;quotient=Math.floor(Math.random()*150)}let dividend=quotient*divisor;let pointPosition=Math.floor(Math.random()*3)+1;let divisorPointPosition=Math.floor(Math.random()*2)+1;question.quotient=this.slideDecimalPoint(quotient,pointPosition-divisorPointPosition);question.dividend=this.slideDecimalPoint(dividend,pointPosition);question.divisor=this.slideDecimalPoint(divisor,divisorPointPosition);question.remainder=null;question.yourQuotient=null;question.yourRemainder=null}else{}}}this.questions.push(question)}},slideDecimalPoint:function(a,b){let _integer;if(b<0){_integer=a*Math.pow(10,-1*b)}else{_integer="0".repeat(b)+a.toString();let left=_integer.substring(0,_integer.length-b);let right=_integer.substring(_integer.length-b);_integer=left+"."+right}return parseFloat(_integer)},answerQuotient:function(a,b){this.questions[a].yourQuotient=parseFloat(b);if(this.questions[a].quotient===this.questions[a].yourQuotient){this.score.point+=this.eachPoint}if(this.hasDone()){this.endGame()}},answerRemainder:function(a,b){this.questions[a].yourRemainder=parseFloat(b);if(this.questions[a].remainder===this.questions[a].yourRemainder){this.score.point+=this.eachPoint}if(this.hasDone()){this.endGame()}},hasDone:function(){return this.questions.every(function(a){let hasDone=false;if(a.remainder!==null){if(a.yourQuotient!==null&&a.yourRemainder!==null){hasDone=true}}else{if(a.yourQuotient!==null){hasDone=true}}return hasDone})},endGame:function(){this.isRunning=!this.isRunning;this.score.time=Math.floor((Date.now()-this.startTime)/1000)}}});