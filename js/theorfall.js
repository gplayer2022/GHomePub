(function(){const g=9.8;let velocity=0;let milliSecond=0;const b=document.getElementById("velocity");const e=document.getElementById("start-button");const l=document.getElementById("ball");const p={x:0,y:0};const f=250;const k=document.getElementById("theoretical-chart-xt").getContext("2d");const m=document.getElementById("theoretical-chart-vt").getContext("2d");let xtChart=null;let vtChart=null;let timeLabels=[];let horizontalXs=[];let verticalYs=[];let horizontalVelocities=[];let verticalVelocities=[];e.addEventListener("click",function(){c();h();const t=setInterval(function(){if(d()){r();i();clearInterval(t)}timeLabels.push(milliSecond/1000);q();j();milliSecond+=f},f)},false);function c(){if(xtChart!==null){xtChart.destroy()}if(vtChart!==null){vtChart.destroy()}timeLabels=[];horizontalXs=[];verticalYs=[];horizontalVelocities=[];verticalVelocities=[];milliSecond=0;p.x=0;p.y=0}function h(){velocity=parseFloat(b.value)}function d(){const t=getComputedStyle(l);let d=false;if(p.x===t.left&&p.y===t.top){d=true}else{p.x=t.left;p.y=t.top}return d}function o(){return velocity}function n(){return g*(milliSecond/1000)}function a(){return o()*(milliSecond/1000)}function s(){return(1/2)*g*Math.pow((milliSecond/1000),2)}function q(){horizontalXs.push(a());verticalYs.push(s())}function j(){horizontalVelocities.push(o());verticalVelocities.push(n())}function r(){xtChart=new Chart(k,{type:"line",data:{labels:timeLabels,datasets:[{label:"横方向",data:horizontalXs,borderColor:"#ff8888"},{label:"縦方向",data:verticalYs,borderColor:"#448844"}]},options:{title:{display:true,text:"x-t グラフ"}}})}function i(){vtChart=new Chart(m,{type:"line",data:{labels:timeLabels,datasets:[{label:"横方向",data:horizontalVelocities,borderColor:"#ff8888"},{label:"縦方向",data:verticalVelocities,borderColor:"#448844"}]},options:{title:{display:true,text:"v-t グラフ"}}})}})();